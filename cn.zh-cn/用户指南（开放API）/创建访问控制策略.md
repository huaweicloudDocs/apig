# 创建访问控制策略<a name="apig-zh-ug-180712097"></a>

## 操作场景<a name="section691333731016"></a>

通过创建访问控制策略来控制API调用者。

>![](public_sys-resources/icon-note.gif) **说明：**   
>每个用户最多可以创建100个访问控制策略。  

## 操作步骤<a name="section18514104361017"></a>

1.  登录管理控制台。
2.  （可选）获取账户名。
    1.  单击用户名，在下拉列表中单击“我的凭证”。
    2.  在“我的凭证”页面查看账号名。

        **图 1**  查看账号名<a name="fig1748026153317"></a>  
        ![](figures/查看账号名.png "查看账号名")


3.  在管理控制台左上角单击![](figures/icon-region.png)，选择区域。
4.  在服务列表中，单击“应用服务 \> API网关”，进入API网关服务管理页面。
5.  单击“开放API \> 访问控制”，进入访问控制策略列表页面。
6.  单击“创建访问控制策略”，弹出“创建访问控制策略”对话框。
7.  输入[表1](#table7929152105014)如所示信息。

    **表 1**  访问控制策略信息

    <a name="table7929152105014"></a>
    <table><thead align="left"><tr id="row89302529507"><th class="cellrowborder" valign="top" width="17%" id="mcps1.2.4.1.1"><p id="p65563314423"><a name="p65563314423"></a><a name="p65563314423"></a>信息项</p>
    </th>
    <th class="cellrowborder" valign="top" width="38.03%" id="mcps1.2.4.1.2"><p id="p356183311427"><a name="p356183311427"></a><a name="p356183311427"></a>描述</p>
    </th>
    <th class="cellrowborder" valign="top" width="44.97%" id="mcps1.2.4.1.3"><p id="p756163324216"><a name="p756163324216"></a><a name="p756163324216"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row1093065235019"><td class="cellrowborder" valign="top" width="17%" headers="mcps1.2.4.1.1 "><p id="p1993035255017"><a name="p1993035255017"></a><a name="p1993035255017"></a>策略名称</p>
    </td>
    <td class="cellrowborder" valign="top" width="38.03%" headers="mcps1.2.4.1.2 "><p id="p13930452195012"><a name="p13930452195012"></a><a name="p13930452195012"></a>访问控制策略的名称。</p>
    </td>
    <td class="cellrowborder" valign="top" width="44.97%" headers="mcps1.2.4.1.3 "><a name="ul4807111355318"></a><a name="ul4807111355318"></a><ul id="ul4807111355318"><li>必须以英文或汉字开头。</li><li>支持汉字、英文、数字和下划线。</li><li>长度为3 ~ 64个字符</li></ul>
    </td>
    </tr>
    <tr id="row209301752205016"><td class="cellrowborder" valign="top" width="17%" headers="mcps1.2.4.1.1 "><p id="p189309525506"><a name="p189309525506"></a><a name="p189309525506"></a>限制类型</p>
    </td>
    <td class="cellrowborder" valign="top" width="38.03%" headers="mcps1.2.4.1.2 "><p id="p16930452125011"><a name="p16930452125011"></a><a name="p16930452125011"></a>控制访问API的类型。</p>
    </td>
    <td class="cellrowborder" valign="top" width="44.97%" headers="mcps1.2.4.1.3 "><a name="ul4791720111517"></a><a name="ul4791720111517"></a><ul id="ul4791720111517"><li>IP地址：允许/禁止访问API的IP地址。</li><li>账号名：允许/禁止访问API的账号名。</li></ul>
    </td>
    </tr>
    <tr id="row199311852115011"><td class="cellrowborder" valign="top" width="17%" headers="mcps1.2.4.1.1 "><p id="p2093110523501"><a name="p2093110523501"></a><a name="p2093110523501"></a>动作</p>
    </td>
    <td class="cellrowborder" valign="top" width="38.03%" headers="mcps1.2.4.1.2 "><p id="p16931165213504"><a name="p16931165213504"></a><a name="p16931165213504"></a>包括允许和禁止。</p>
    </td>
    <td class="cellrowborder" valign="top" width="44.97%" headers="mcps1.2.4.1.3 "><p id="p3498250175913"><a name="p3498250175913"></a><a name="p3498250175913"></a>和“限制类型”配合使用，允许/禁止访问API的IP地址/账号名。</p>
    </td>
    </tr>
    <tr id="row8931952145014"><td class="cellrowborder" valign="top" width="17%" headers="mcps1.2.4.1.1 "><p id="p2931952195017"><a name="p2931952195017"></a><a name="p2931952195017"></a>IP地址</p>
    </td>
    <td class="cellrowborder" valign="top" width="38.03%" headers="mcps1.2.4.1.2 "><p id="p2931205216501"><a name="p2931205216501"></a><a name="p2931205216501"></a>输入需要允许或者禁止访问API的IP地址。</p>
    </td>
    <td class="cellrowborder" valign="top" width="44.97%" headers="mcps1.2.4.1.3 "><p id="p1693125212502"><a name="p1693125212502"></a><a name="p1693125212502"></a>仅在“限制类型”为“IP地址”时，需要设置。</p>
    </td>
    </tr>
    <tr id="row119892011151611"><td class="cellrowborder" valign="top" width="17%" headers="mcps1.2.4.1.1 "><p id="p1436618816579"><a name="p1436618816579"></a><a name="p1436618816579"></a>账号名</p>
    </td>
    <td class="cellrowborder" valign="top" width="38.03%" headers="mcps1.2.4.1.2 "><p id="p13366188155715"><a name="p13366188155715"></a><a name="p13366188155715"></a>输入需要允许或者禁止访问API的账号名。</p>
    </td>
    <td class="cellrowborder" valign="top" width="44.97%" headers="mcps1.2.4.1.3 "><p id="p53661687574"><a name="p53661687574"></a><a name="p53661687574"></a>仅在“限制类型”为“账号名”时，需要设置。支持输入多个账户名，以英文“,”隔开，如aaa,bbb。</p>
    </td>
    </tr>
    </tbody>
    </table>

8.  单击“确定”，完成访问控制策略的创建。

