# 创建环境变量<a name="apig-zh-ug-180307016"></a>

## 操作场景<a name="section1165405311210"></a>

环境变量是指在环境上创建可管理的一种变量，该变量固定在环境上。通过创建环境变量，实现同一个API，在不同环境中调用不同的后端服务。

当创建API时定义了变量标识，则需要在环境中添加变量。例如创建API时定义了变量名为“Path”，在环境1中创建了变量名“Path”，变量值“/Stage/test”，则API在发布到环境1时，使用“/Stage/test”代替“Path”。在环境2中创建了变量名“Path”，变量值“/Stage/AA”，则API在发布到环境2时，使用“/Stage/AA”代替“Path”。

>![](public_sys-resources/icon-note.gif) **说明：**   
>每个分组在任意一个环境中，最多创建50个变量。  

## 前提条件<a name="section16904951184510"></a>

已创建API。

## 操作步骤<a name="section182471252114616"></a>

1.  登录管理控制台。
2.  在管理控制台左上角单击![](figures/icon-region.png)，选择区域。
3.  在服务列表中，单击“应用服务 \> API网关”，进入API网关服务管理页面。
4.  单击“开放API \> API分组”，进入到API分组信息页面。
5.  通过以下任意一种方式，进入“变量管理”页签。
    -   单击_“分组名称_”，进入分组详细信息页面。单击“变量管理”。
    -   在待创建环境变量的分组所在行，单击“更多 \> 变量管理”。

6.  在“环境”中选择待添加变量的环境名称，单击“添加变量”，弹出“新增变量”对话框。
7.  填写如[表1](#table179600199520)所示信息。

    **表 1**  新增变量

    <a name="table179600199520"></a>
    <table><thead align="left"><tr id="row209601419855"><th class="cellrowborder" valign="top" width="18%" id="mcps1.2.4.1.1"><p id="p7404447152"><a name="p7404447152"></a><a name="p7404447152"></a>信息项</p>
    </th>
    <th class="cellrowborder" valign="top" width="40%" id="mcps1.2.4.1.2"><p id="p49601519256"><a name="p49601519256"></a><a name="p49601519256"></a>描述</p>
    </th>
    <th class="cellrowborder" valign="top" width="42%" id="mcps1.2.4.1.3"><p id="p1796113191658"><a name="p1796113191658"></a><a name="p1796113191658"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row9961119151"><td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.4.1.1 "><p id="p1540474718515"><a name="p1540474718515"></a><a name="p1540474718515"></a>变量名称</p>
    </td>
    <td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.4.1.2 "><p id="p196161919510"><a name="p196161919510"></a><a name="p196161919510"></a>变量的名称，必须与创建API时定义的变量标识完全相同。</p>
    </td>
    <td class="cellrowborder" valign="top" width="42%" headers="mcps1.2.4.1.3 "><a name="ul1083897121417"></a><a name="ul1083897121417"></a><ul id="ul1083897121417"><li>支持英文字母、数字、英文格式的下划线、中划线。</li><li>必须以英文字母开头。</li><li>长度为3 ~ 32个字符。</li><li>严格区分大小写。</li></ul>
    </td>
    </tr>
    <tr id="row139611919855"><td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.4.1.1 "><p id="p740419471157"><a name="p740419471157"></a><a name="p740419471157"></a>变量值</p>
    </td>
    <td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.4.1.2 "><p id="p119612197510"><a name="p119612197510"></a><a name="p119612197510"></a>变量路径。</p>
    </td>
    <td class="cellrowborder" valign="top" width="42%" headers="mcps1.2.4.1.3 "><a name="ul10324194315112"></a><a name="ul10324194315112"></a><ul id="ul10324194315112"><li>支持英文字母、数字、英文格式的下划线、中划线，左斜线、点、冒号。</li><li>长度为1 ~ 255个字符。</li></ul>
    </td>
    </tr>
    </tbody>
    </table>

8.  单击“确定”，完成变量的添加。

    >![](public_sys-resources/icon-note.gif) **说明：**   
    >如果不再需要此变量时，在变量所在行单击“删除”。  


