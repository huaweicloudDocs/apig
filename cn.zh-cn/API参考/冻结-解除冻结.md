# 冻结/解除冻结<a name="apig-phapi-180713106"></a>

## 功能介绍<a name="section51931360"></a>

当用户因欠费等原因被冻结后，云市场调用该接口通知API网关冻结用户对已购买的API的调用。当用户缴清费用并解除了冻结状态后，云市场调用该接口通知API网关恢复用户对已购买API的调用。

## URI<a name="section64729059"></a>

HTTP/HTTPS请求方法以及URI如下表所示。

**表 1**  HTTP/HTTPS请求方法以及URI

<a name="table52058427"></a>
<table><thead align="left"><tr id="row17967011"><th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.1"><p id="p46041793"><a name="p46041793"></a><a name="p46041793"></a>请求方法</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.2"><p id="p38397792"><a name="p38397792"></a><a name="p38397792"></a>URI</p>
</th>
</tr>
</thead>
<tbody><tr id="row23213480"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p1243712"><a name="p1243712"></a><a name="p1243712"></a>PUT</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p33631824"><a name="p33631824"></a><a name="p33631824"></a>/v1/{project_id}/apigw/instances/{instance_id}/market/project</p>
</td>
</tr>
</tbody>
</table>

**表 2**  Head参数信息

<a name="table1077685961811"></a>
<table><thead align="left"><tr id="row6776145921810"><th class="cellrowborder" valign="top" width="25%" id="mcps1.2.5.1.1"><p id="p87761159141817"><a name="p87761159141817"></a><a name="p87761159141817"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.5.1.2"><p id="p4776175919185"><a name="p4776175919185"></a><a name="p4776175919185"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.5.1.3"><p id="p677610599186"><a name="p677610599186"></a><a name="p677610599186"></a>类型</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.5.1.4"><p id="p1177635911817"><a name="p1177635911817"></a><a name="p1177635911817"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row177635917187"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="p18981357121915"><a name="p18981357121915"></a><a name="p18981357121915"></a>X-Domain-Id</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.2 "><p id="p1877615911184"><a name="p1877615911184"></a><a name="p1877615911184"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.3 "><p id="p11776115931813"><a name="p11776115931813"></a><a name="p11776115931813"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.4 "><p id="p877695917180"><a name="p877695917180"></a><a name="p877695917180"></a>租户的DomainId</p>
</td>
</tr>
</tbody>
</table>

## 请求消息<a name="section45690626"></a>

**表 3**  参数说明

<a name="table22864781"></a>
<table><thead align="left"><tr id="row45188987"><th class="cellrowborder" valign="top" width="19%" id="mcps1.2.5.1.1"><p id="p36429313"><a name="p36429313"></a><a name="p36429313"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="14.000000000000002%" id="mcps1.2.5.1.2"><p id="p65093277"><a name="p65093277"></a><a name="p65093277"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="14.000000000000002%" id="mcps1.2.5.1.3"><p id="p38064052"><a name="p38064052"></a><a name="p38064052"></a>类型</p>
</th>
<th class="cellrowborder" valign="top" width="53%" id="mcps1.2.5.1.4"><p id="p63289392"><a name="p63289392"></a><a name="p63289392"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row219730202317"><td class="cellrowborder" valign="top" width="19%" headers="mcps1.2.5.1.1 "><p id="p55878963"><a name="p55878963"></a><a name="p55878963"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.2.5.1.2 "><p id="p29902160"><a name="p29902160"></a><a name="p29902160"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.2.5.1.3 "><p id="p6155914"><a name="p6155914"></a><a name="p6155914"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="53%" headers="mcps1.2.5.1.4 "><p id="p28867016"><a name="p28867016"></a><a name="p28867016"></a>项目ID。可从控制台“我的凭证”中获取region下项目ID，管理员权限可查询。</p>
</td>
</tr>
<tr id="row26011859162213"><td class="cellrowborder" valign="top" width="19%" headers="mcps1.2.5.1.1 "><p id="p1780913159538"><a name="p1780913159538"></a><a name="p1780913159538"></a>instance_id</p>
</td>
<td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.2.5.1.2 "><p id="p9809215115310"><a name="p9809215115310"></a><a name="p9809215115310"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.2.5.1.3 "><p id="p1280914152538"><a name="p1280914152538"></a><a name="p1280914152538"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="53%" headers="mcps1.2.5.1.4 "><p id="p1880914157537"><a name="p1880914157537"></a><a name="p1880914157537"></a>实例ID，可从API网关控制台的专享版实例信息中获取。</p>
</td>
</tr>
<tr id="row26167161"><td class="cellrowborder" valign="top" width="19%" headers="mcps1.2.5.1.1 "><p id="p39165302"><a name="p39165302"></a><a name="p39165302"></a>status</p>
</td>
<td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.2.5.1.2 "><p id="p18272912"><a name="p18272912"></a><a name="p18272912"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.2.5.1.3 "><p id="p3710894"><a name="p3710894"></a><a name="p3710894"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="53%" headers="mcps1.2.5.1.4 "><p id="p32147001"><a name="p32147001"></a><a name="p32147001"></a>订单状态：</p>
<a name="ul20887554"></a><a name="ul20887554"></a><ul id="ul20887554"><li>1：解除冻结</li><li>3：冻结</li></ul>
</td>
</tr>
<tr id="row60424116"><td class="cellrowborder" valign="top" width="19%" headers="mcps1.2.5.1.1 "><p id="p62515188"><a name="p62515188"></a><a name="p62515188"></a>purchase_ids</p>
</td>
<td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.2.5.1.2 "><p id="p30565440"><a name="p30565440"></a><a name="p30565440"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="14.000000000000002%" headers="mcps1.2.5.1.3 "><p id="p59881601"><a name="p59881601"></a><a name="p59881601"></a>[]String</p>
</td>
<td class="cellrowborder" valign="top" width="53%" headers="mcps1.2.5.1.4 "><p id="p18571551"><a name="p18571551"></a><a name="p18571551"></a>需要冻结的订单列表</p>
</td>
</tr>
</tbody>
</table>

请求参数样例：

```
{
	"status": 3,
	"purchase_ids": ["p1",
	"p2"]
}
```

## 响应消息<a name="section9953212"></a>

**表 4**  参数说明

<a name="table7539441"></a>
<table><thead align="left"><tr id="row33340398"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p16217756"><a name="p16217756"></a><a name="p16217756"></a>参数名</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p11584517"><a name="p11584517"></a><a name="p11584517"></a>类型</p>
</th>
<th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p56504928"><a name="p56504928"></a><a name="p56504928"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row54359314"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p41028295"><a name="p41028295"></a><a name="p41028295"></a>purchase_id</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p34957613"><a name="p34957613"></a><a name="p34957613"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p12994411"><a name="p12994411"></a><a name="p12994411"></a>资源编号（订购关系编号）</p>
</td>
</tr>
<tr id="row49840843"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p10576514"><a name="p10576514"></a><a name="p10576514"></a>result_code</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p51391268"><a name="p51391268"></a><a name="p51391268"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p1943195"><a name="p1943195"></a><a name="p1943195"></a>处理结果（不区分大小写）：</p>
<a name="ul17488762"></a><a name="ul17488762"></a><ul id="ul17488762"><li>SUCCESS：处理成功</li><li>ERROR：处理失败</li><li>FORBIDDEN：无权操作</li></ul>
</td>
</tr>
<tr id="row65732647"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p22744204"><a name="p22744204"></a><a name="p22744204"></a>result_msg</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p30341221"><a name="p30341221"></a><a name="p30341221"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p41719835"><a name="p41719835"></a><a name="p41719835"></a>处理详情</p>
</td>
</tr>
</tbody>
</table>

响应参数示例：

```
[{
	"purchase_id": "p1",
	"result_code": "SUCCESS",
	"result_msg": "success"
},
{
	"purchase_id": "p2",
	"result_code": "ERROR",
	"result_msg": "not found"
}]
```

## 状态码<a name="section8562452"></a>

**表 5**  返回消息说明

<a name="table42477941"></a>
<table><thead align="left"><tr id="row19039205"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.3.1.1"><p id="p65780646"><a name="p65780646"></a><a name="p65780646"></a>状态码</p>
</th>
<th class="cellrowborder" valign="top" width="80%" id="mcps1.2.3.1.2"><p id="p26632111"><a name="p26632111"></a><a name="p26632111"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row9717417"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.3.1.1 "><p id="p48913340"><a name="p48913340"></a><a name="p48913340"></a>200</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.2.3.1.2 "><p id="p50988816"><a name="p50988816"></a><a name="p50988816"></a>OK</p>
</td>
</tr>
<tr id="row23018248"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.3.1.1 "><p id="p52538782"><a name="p52538782"></a><a name="p52538782"></a>400</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.2.3.1.2 "><p id="p27782986"><a name="p27782986"></a><a name="p27782986"></a>Bad Request</p>
</td>
</tr>
<tr id="row48720282"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.3.1.1 "><p id="p54028799"><a name="p54028799"></a><a name="p54028799"></a>401</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.2.3.1.2 "><p id="p14256621"><a name="p14256621"></a><a name="p14256621"></a>Unauthorized</p>
</td>
</tr>
<tr id="row61200726"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.3.1.1 "><p id="p58311779"><a name="p58311779"></a><a name="p58311779"></a>403</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.2.3.1.2 "><p id="p25633677"><a name="p25633677"></a><a name="p25633677"></a>Forbidden</p>
</td>
</tr>
<tr id="row29376504"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.3.1.1 "><p id="p30686615"><a name="p30686615"></a><a name="p30686615"></a>500</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.2.3.1.2 "><p id="p6744143"><a name="p6744143"></a><a name="p6744143"></a>Server Internal Error</p>
</td>
</tr>
</tbody>
</table>

