# 修改租户绑定<a name="apig-phapi-200220024"></a>

## 功能介绍<a name="section65951706"></a>

更新业务区绑定的租户，需要先把原有绑定的租户删除，再添加请求所带的租户组。

## URI<a name="section56694448"></a>

HTTP/HTTPS请求方法以及URI如下表所示。

**表 1**  HTTP/HTTPS请求方法以及URI

<a name="table58613401"></a>
<table><thead align="left"><tr id="row46107371"><th class="cellrowborder" valign="top" width="34.339999999999996%" id="mcps1.2.3.1.1"><p id="p43709551"><a name="p43709551"></a><a name="p43709551"></a>请求方法</p>
</th>
<th class="cellrowborder" valign="top" width="65.66%" id="mcps1.2.3.1.2"><p id="p50812736"><a name="p50812736"></a><a name="p50812736"></a>URI</p>
</th>
</tr>
</thead>
<tbody><tr id="row22190917"><td class="cellrowborder" valign="top" width="34.339999999999996%" headers="mcps1.2.3.1.1 "><p id="p1223705817305"><a name="p1223705817305"></a><a name="p1223705817305"></a>PUT</p>
</td>
<td class="cellrowborder" valign="top" width="65.66%" headers="mcps1.2.3.1.2 "><p id="p823735863019"><a name="p823735863019"></a><a name="p823735863019"></a>/v1/{project_id}/apigw/instances/{instance_id}/zones/{id}/users</p>
</td>
</tr>
</tbody>
</table>

URI中的参数说明如下表所示。

**表 2**  参数说明

<a name="table55459103"></a>
<table><thead align="left"><tr id="row23554631"><th class="cellrowborder" valign="top" width="23.46765323467653%" id="mcps1.2.5.1.1"><p id="p28876944"><a name="p28876944"></a><a name="p28876944"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="18.36816318368163%" id="mcps1.2.5.1.2"><p id="p57331126"><a name="p57331126"></a><a name="p57331126"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="17.348265173482652%" id="mcps1.2.5.1.3"><p id="p13309600"><a name="p13309600"></a><a name="p13309600"></a>类型</p>
</th>
<th class="cellrowborder" valign="top" width="40.815918408159185%" id="mcps1.2.5.1.4"><p id="p4335798"><a name="p4335798"></a><a name="p4335798"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row38734911112"><td class="cellrowborder" valign="top" width="23.46765323467653%" headers="mcps1.2.5.1.1 "><p id="p55878963"><a name="p55878963"></a><a name="p55878963"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="18.36816318368163%" headers="mcps1.2.5.1.2 "><p id="p29902160"><a name="p29902160"></a><a name="p29902160"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="17.348265173482652%" headers="mcps1.2.5.1.3 "><p id="p6155914"><a name="p6155914"></a><a name="p6155914"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40.815918408159185%" headers="mcps1.2.5.1.4 "><p id="p28867016"><a name="p28867016"></a><a name="p28867016"></a>项目ID。可从控制台“我的凭证”中获取region下项目ID，管理员权限可查询。</p>
</td>
</tr>
<tr id="row858484814112"><td class="cellrowborder" valign="top" width="23.46765323467653%" headers="mcps1.2.5.1.1 "><p id="p1780913159538"><a name="p1780913159538"></a><a name="p1780913159538"></a>instance_id</p>
</td>
<td class="cellrowborder" valign="top" width="18.36816318368163%" headers="mcps1.2.5.1.2 "><p id="p9809215115310"><a name="p9809215115310"></a><a name="p9809215115310"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="17.348265173482652%" headers="mcps1.2.5.1.3 "><p id="p1280914152538"><a name="p1280914152538"></a><a name="p1280914152538"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40.815918408159185%" headers="mcps1.2.5.1.4 "><p id="p1880914157537"><a name="p1880914157537"></a><a name="p1880914157537"></a>实例ID，可从API网关控制台的专享版实例信息中获取。</p>
</td>
</tr>
<tr id="row15655394"><td class="cellrowborder" valign="top" width="23.46765323467653%" headers="mcps1.2.5.1.1 "><p id="p60127369"><a name="p60127369"></a><a name="p60127369"></a>id</p>
</td>
<td class="cellrowborder" valign="top" width="18.36816318368163%" headers="mcps1.2.5.1.2 "><p id="p38478741"><a name="p38478741"></a><a name="p38478741"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="17.348265173482652%" headers="mcps1.2.5.1.3 "><p id="p29770350"><a name="p29770350"></a><a name="p29770350"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40.815918408159185%" headers="mcps1.2.5.1.4 "><p id="p62588155"><a name="p62588155"></a><a name="p62588155"></a>业务区的编号</p>
</td>
</tr>
</tbody>
</table>

## 请求消息<a name="section40487987"></a>

**表 3**  参数说明

<a name="table31984895"></a>
<table><thead align="left"><tr id="row4636202"><th class="cellrowborder" valign="top" width="15.15%" id="mcps1.2.5.1.1"><p id="p39988092"><a name="p39988092"></a><a name="p39988092"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="14.14%" id="mcps1.2.5.1.2"><p id="p17810043"><a name="p17810043"></a><a name="p17810043"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="14.14%" id="mcps1.2.5.1.3"><p id="p33327374"><a name="p33327374"></a><a name="p33327374"></a>类型</p>
</th>
<th class="cellrowborder" valign="top" width="56.57%" id="mcps1.2.5.1.4"><p id="p15162782"><a name="p15162782"></a><a name="p15162782"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row20225810"><td class="cellrowborder" valign="top" width="15.15%" headers="mcps1.2.5.1.1 "><p id="p119772450195"><a name="p119772450195"></a><a name="p119772450195"></a>users</p>
</td>
<td class="cellrowborder" valign="top" width="14.14%" headers="mcps1.2.5.1.2 "><p id="p1797720451198"><a name="p1797720451198"></a><a name="p1797720451198"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="14.14%" headers="mcps1.2.5.1.3 "><p id="p897712457192"><a name="p897712457192"></a><a name="p897712457192"></a>字典数据类型</p>
</td>
<td class="cellrowborder" valign="top" width="56.57%" headers="mcps1.2.5.1.4 "><p id="p119774457199"><a name="p119774457199"></a><a name="p119774457199"></a>租户组。</p>
</td>
</tr>
</tbody>
</table>

**表 4**  cluster参数说明

<a name="table38832424583"></a>
<table><thead align="left"><tr id="row68852042205810"><th class="cellrowborder" valign="top" width="15.15%" id="mcps1.2.5.1.1"><p id="p788715429583"><a name="p788715429583"></a><a name="p788715429583"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="14.14%" id="mcps1.2.5.1.2"><p id="p17887104216588"><a name="p17887104216588"></a><a name="p17887104216588"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="14.14%" id="mcps1.2.5.1.3"><p id="p88881742155810"><a name="p88881742155810"></a><a name="p88881742155810"></a>类型</p>
</th>
<th class="cellrowborder" valign="top" width="56.57%" id="mcps1.2.5.1.4"><p id="p148901942195812"><a name="p148901942195812"></a><a name="p148901942195812"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row1689034285812"><td class="cellrowborder" valign="top" width="15.15%" headers="mcps1.2.5.1.1 "><p id="p1247012573199"><a name="p1247012573199"></a><a name="p1247012573199"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="14.14%" headers="mcps1.2.5.1.2 "><p id="p18470185751914"><a name="p18470185751914"></a><a name="p18470185751914"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="14.14%" headers="mcps1.2.5.1.3 "><p id="p547016579192"><a name="p547016579192"></a><a name="p547016579192"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="56.57%" headers="mcps1.2.5.1.4 "><p id="p64705573198"><a name="p64705573198"></a><a name="p64705573198"></a>绑定租户的project Id。</p>
<p id="p5470165731919"><a name="p5470165731919"></a><a name="p5470165731919"></a>在所有的zone中唯一。</p>
</td>
</tr>
</tbody>
</table>

请求消息样例：

```
{
	"users": [{
		"project_id": "a8330f400e174dbea16ec74dbf526888"
	}]
}
```

## 响应消息<a name="section28847564"></a>

**表 5**  参数说明

<a name="table2992859226"></a>
<table><thead align="left"><tr id="row99993597214"><th class="cellrowborder" valign="top" width="15.15%" id="mcps1.2.5.1.1"><p id="p14999115914216"><a name="p14999115914216"></a><a name="p14999115914216"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="14.14%" id="mcps1.2.5.1.2"><p id="p12080338"><a name="p12080338"></a><a name="p12080338"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="14.14%" id="mcps1.2.5.1.3"><p id="p1911304310"><a name="p1911304310"></a><a name="p1911304310"></a>类型</p>
</th>
<th class="cellrowborder" valign="top" width="56.57%" id="mcps1.2.5.1.4"><p id="p127020310"><a name="p127020310"></a><a name="p127020310"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row23120939"><td class="cellrowborder" valign="top" width="15.15%" headers="mcps1.2.5.1.1 "><p id="p192119575220"><a name="p192119575220"></a><a name="p192119575220"></a>users</p>
</td>
<td class="cellrowborder" valign="top" width="14.14%" headers="mcps1.2.5.1.2 "><p id="p16211185720226"><a name="p16211185720226"></a><a name="p16211185720226"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="14.14%" headers="mcps1.2.5.1.3 "><p id="p1211145715226"><a name="p1211145715226"></a><a name="p1211145715226"></a>对象</p>
</td>
<td class="cellrowborder" valign="top" width="56.57%" headers="mcps1.2.5.1.4 "><p id="p1211157172216"><a name="p1211157172216"></a><a name="p1211157172216"></a>租户组。</p>
</td>
</tr>
</tbody>
</table>

**表 6**  users参数说明

<a name="table250614819313"></a>
<table><thead align="left"><tr id="row10511982312"><th class="cellrowborder" valign="top" width="15.15%" id="mcps1.2.5.1.1"><p id="p165131187314"><a name="p165131187314"></a><a name="p165131187314"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="14.14%" id="mcps1.2.5.1.2"><p id="p14515781637"><a name="p14515781637"></a><a name="p14515781637"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="14.14%" id="mcps1.2.5.1.3"><p id="p25158813313"><a name="p25158813313"></a><a name="p25158813313"></a>类型</p>
</th>
<th class="cellrowborder" valign="top" width="56.57%" id="mcps1.2.5.1.4"><p id="p2516481310"><a name="p2516481310"></a><a name="p2516481310"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row12846132214315"><td class="cellrowborder" valign="top" width="15.15%" headers="mcps1.2.5.1.1 "><p id="p19249180516"><a name="p19249180516"></a><a name="p19249180516"></a>id</p>
</td>
<td class="cellrowborder" valign="top" width="14.14%" headers="mcps1.2.5.1.2 "><p id="p492419181755"><a name="p492419181755"></a><a name="p492419181755"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="14.14%" headers="mcps1.2.5.1.3 "><p id="p69258186514"><a name="p69258186514"></a><a name="p69258186514"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="56.57%" headers="mcps1.2.5.1.4 "><p id="p14925181812516"><a name="p14925181812516"></a><a name="p14925181812516"></a>集群主机编号。</p>
</td>
</tr>
<tr id="row155181987317"><td class="cellrowborder" valign="top" width="15.15%" headers="mcps1.2.5.1.1 "><p id="p158846309238"><a name="p158846309238"></a><a name="p158846309238"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="14.14%" headers="mcps1.2.5.1.2 "><p id="p2884163010239"><a name="p2884163010239"></a><a name="p2884163010239"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="14.14%" headers="mcps1.2.5.1.3 "><p id="p1888419304230"><a name="p1888419304230"></a><a name="p1888419304230"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="56.57%" headers="mcps1.2.5.1.4 "><p id="p58841630122317"><a name="p58841630122317"></a><a name="p58841630122317"></a>租户编号。</p>
</td>
</tr>
<tr id="row135251681136"><td class="cellrowborder" valign="top" width="15.15%" headers="mcps1.2.5.1.1 "><p id="p68841730172317"><a name="p68841730172317"></a><a name="p68841730172317"></a>zone_id</p>
</td>
<td class="cellrowborder" valign="top" width="14.14%" headers="mcps1.2.5.1.2 "><p id="p19884183012237"><a name="p19884183012237"></a><a name="p19884183012237"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="14.14%" headers="mcps1.2.5.1.3 "><p id="p128845304235"><a name="p128845304235"></a><a name="p128845304235"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="56.57%" headers="mcps1.2.5.1.4 "><p id="p3884143062310"><a name="p3884143062310"></a><a name="p3884143062310"></a>业务区编号。</p>
</td>
</tr>
<tr id="row95326816312"><td class="cellrowborder" valign="top" width="15.15%" headers="mcps1.2.5.1.1 "><p id="p788433042310"><a name="p788433042310"></a><a name="p788433042310"></a>create_time</p>
</td>
<td class="cellrowborder" valign="top" width="14.14%" headers="mcps1.2.5.1.2 "><p id="p158841930192317"><a name="p158841930192317"></a><a name="p158841930192317"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="14.14%" headers="mcps1.2.5.1.3 "><p id="p178842030162316"><a name="p178842030162316"></a><a name="p178842030162316"></a>Timesatmp</p>
</td>
<td class="cellrowborder" valign="top" width="56.57%" headers="mcps1.2.5.1.4 "><p id="p14884930182310"><a name="p14884930182310"></a><a name="p14884930182310"></a>创建时间。</p>
</td>
</tr>
<tr id="row115371282313"><td class="cellrowborder" valign="top" width="15.15%" headers="mcps1.2.5.1.1 "><p id="p198841730172320"><a name="p198841730172320"></a><a name="p198841730172320"></a>update_time</p>
</td>
<td class="cellrowborder" valign="top" width="14.14%" headers="mcps1.2.5.1.2 "><p id="p8884103011230"><a name="p8884103011230"></a><a name="p8884103011230"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="14.14%" headers="mcps1.2.5.1.3 "><p id="p888414303237"><a name="p888414303237"></a><a name="p888414303237"></a>Timesatmp</p>
</td>
<td class="cellrowborder" valign="top" width="56.57%" headers="mcps1.2.5.1.4 "><p id="p7884123019234"><a name="p7884123019234"></a><a name="p7884123019234"></a>更新时间。</p>
</td>
</tr>
<tr id="row53865443517"><td class="cellrowborder" valign="top" width="15.15%" headers="mcps1.2.5.1.1 "><p id="p788412303236"><a name="p788412303236"></a><a name="p788412303236"></a>group_sl_domain</p>
</td>
<td class="cellrowborder" valign="top" width="14.14%" headers="mcps1.2.5.1.2 "><p id="p288463032310"><a name="p288463032310"></a><a name="p288463032310"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="14.14%" headers="mcps1.2.5.1.3 "><p id="p17884193010230"><a name="p17884193010230"></a><a name="p17884193010230"></a>&lt;String&gt;List</p>
</td>
<td class="cellrowborder" valign="top" width="56.57%" headers="mcps1.2.5.1.4 "><p id="p28841430202318"><a name="p28841430202318"></a><a name="p28841430202318"></a>租户关联的分组id。</p>
</td>
</tr>
</tbody>
</table>

响应消息样例：

```
{
	"users": [{
		"id": "0b943a58d2874bef9ab1ee8e0f417d8b",
		"project_id": "ea5096f935e64814a9f1f57696f0d7ca",
		"zone_id": "c6d9226b412e48d89fc92e53f3da7715",
		"create_time": "2018-08-11T08:30:13.7129286Z",
		"update_time": "2018-08-11T08:30:13.7129286Z",
		"group_sl_domain": ["38c9cf769bbe4f0cbd4a9350122acb20.apigw.example.com",
		"829308c22efc42798ff32a314cf489ab.apigw.example.com",
		"df5dcb3ad32a472793a2dc47ad257024.apigw.example.com",
		"835dce1b40484ed6b523caa2d4fd81df.apigw.example.com",
		"a349c225535f409c9d4b2aa17c7ed7be.apigw.example.com",
		"91adf187b2e6470188b438741bab4c0a.apigw.example.com",
		"002169d812f44cb9adc44cbc337d45a4.apigw.example.com",
		"7a7c21b42c14407f8c3760242c11856d.apigw.example.com",
		"0977afa0181143e9b46ada821df91e51.apigw.example.com",
		"2fb9c976abd34f558b6001e4f0b21d3b.apigw.example.com",
		"dd935eb998fe49a58ba1e3a0f0ed31ef.apigw.example.com",
		"64af3d80898641628fcafb03bed95a59.apigw.example.com",
		"ad1d62c631bf4335ba2008cb067440fa.apigw.example.com",
		"1b2fe691640646f1a02d6b32fa3bb8ab.apigw.example.com"]
	}]
}
```

## 状态码<a name="section58301484"></a>

**表 7**  返回消息说明

<a name="table19246436"></a>
<table><thead align="left"><tr id="row14971997"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.3.1.1"><p id="p4772208"><a name="p4772208"></a><a name="p4772208"></a>状态码</p>
</th>
<th class="cellrowborder" valign="top" width="80%" id="mcps1.2.3.1.2"><p id="p51004605"><a name="p51004605"></a><a name="p51004605"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row820718547919"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.3.1.1 "><p id="p188613261010"><a name="p188613261010"></a><a name="p188613261010"></a>200</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.2.3.1.2 "><p id="p088672161010"><a name="p088672161010"></a><a name="p088672161010"></a>OK</p>
</td>
</tr>
<tr id="row37732330"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.3.1.1 "><p id="p488612191011"><a name="p488612191011"></a><a name="p488612191011"></a>400</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.2.3.1.2 "><p id="p19886182191010"><a name="p19886182191010"></a><a name="p19886182191010"></a>Bad Request</p>
</td>
</tr>
<tr id="row42085170"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.3.1.1 "><p id="p53455587"><a name="p53455587"></a><a name="p53455587"></a>401</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.2.3.1.2 "><p id="p34935322"><a name="p34935322"></a><a name="p34935322"></a>Unauthorized</p>
</td>
</tr>
<tr id="row45982442"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.3.1.1 "><p id="p33590306"><a name="p33590306"></a><a name="p33590306"></a>403</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.2.3.1.2 "><p id="p36460242"><a name="p36460242"></a><a name="p36460242"></a>Forbidden</p>
</td>
</tr>
<tr id="row17722413"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.3.1.1 "><p id="p26229331"><a name="p26229331"></a><a name="p26229331"></a>500</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.2.3.1.2 "><p id="p44201103"><a name="p44201103"></a><a name="p44201103"></a>Server Internal Error</p>
</td>
</tr>
</tbody>
</table>

