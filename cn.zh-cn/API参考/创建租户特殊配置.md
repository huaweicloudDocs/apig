# 创建租户特殊配置<a name="apig-phapi-180713122"></a>

## 功能介绍<a name="section58355715"></a>

添加一个特殊配置项。

## URI<a name="section55439395"></a>

HTTP/HTTPS请求方法以及URI如下表所示。

**表 1**  HTTP/HTTPS请求方法以及URI

<a name="table56035637"></a>
<table><thead align="left"><tr id="row9928405"><th class="cellrowborder" valign="top" width="34.339999999999996%" id="mcps1.2.3.1.1"><p id="p66003350"><a name="p66003350"></a><a name="p66003350"></a>请求方法</p>
</th>
<th class="cellrowborder" valign="top" width="65.66%" id="mcps1.2.3.1.2"><p id="p44671135"><a name="p44671135"></a><a name="p44671135"></a>URI</p>
</th>
</tr>
</thead>
<tbody><tr id="row61592217"><td class="cellrowborder" valign="top" width="34.339999999999996%" headers="mcps1.2.3.1.1 "><p id="p22913708"><a name="p22913708"></a><a name="p22913708"></a>POST</p>
</td>
<td class="cellrowborder" valign="top" width="65.66%" headers="mcps1.2.3.1.2 "><p id="p44071039"><a name="p44071039"></a><a name="p44071039"></a>/v1/{project_id}/apigw/instances/{instance_id}/config-specials</p>
</td>
</tr>
</tbody>
</table>

URI中的参数说明如下表所示。

**表 2**  参数说明

<a name="table38510415"></a>
<table><thead align="left"><tr id="row62423067"><th class="cellrowborder" valign="top" width="23.46765323467653%" id="mcps1.2.5.1.1"><p id="p23103637"><a name="p23103637"></a><a name="p23103637"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="17.348265173482652%" id="mcps1.2.5.1.2"><p id="p59455291"><a name="p59455291"></a><a name="p59455291"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="17.348265173482652%" id="mcps1.2.5.1.3"><p id="p51149303"><a name="p51149303"></a><a name="p51149303"></a>类型</p>
</th>
<th class="cellrowborder" valign="top" width="41.835816418358164%" id="mcps1.2.5.1.4"><p id="p49452846"><a name="p49452846"></a><a name="p49452846"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row46257610"><td class="cellrowborder" valign="top" width="23.46765323467653%" headers="mcps1.2.5.1.1 "><p id="p55878963"><a name="p55878963"></a><a name="p55878963"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="17.348265173482652%" headers="mcps1.2.5.1.2 "><p id="p29902160"><a name="p29902160"></a><a name="p29902160"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="17.348265173482652%" headers="mcps1.2.5.1.3 "><p id="p6155914"><a name="p6155914"></a><a name="p6155914"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="41.835816418358164%" headers="mcps1.2.5.1.4 "><p id="p28867016"><a name="p28867016"></a><a name="p28867016"></a>项目ID。可从控制台“我的凭证”中获取region下项目ID，管理员权限可查询。</p>
</td>
</tr>
<tr id="row7809161535314"><td class="cellrowborder" valign="top" width="23.46765323467653%" headers="mcps1.2.5.1.1 "><p id="p1780913159538"><a name="p1780913159538"></a><a name="p1780913159538"></a>instance_id</p>
</td>
<td class="cellrowborder" valign="top" width="17.348265173482652%" headers="mcps1.2.5.1.2 "><p id="p9809215115310"><a name="p9809215115310"></a><a name="p9809215115310"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="17.348265173482652%" headers="mcps1.2.5.1.3 "><p id="p1280914152538"><a name="p1280914152538"></a><a name="p1280914152538"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="41.835816418358164%" headers="mcps1.2.5.1.4 "><p id="p1880914157537"><a name="p1880914157537"></a><a name="p1880914157537"></a>实例ID，可从API网关控制台的专享版实例信息中获取。</p>
</td>
</tr>
</tbody>
</table>

## 请求消息<a name="section29192512"></a>

**表 3**  参数说明

<a name="table12984378"></a>
<table><thead align="left"><tr id="row62269293"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p10648006"><a name="p10648006"></a><a name="p10648006"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p57182163"><a name="p57182163"></a><a name="p57182163"></a>类型</p>
</th>
<th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p1243645"><a name="p1243645"></a><a name="p1243645"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row33626411"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p39384774"><a name="p39384774"></a><a name="p39384774"></a>config_id</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p36050101"><a name="p36050101"></a><a name="p36050101"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p34377057"><a name="p34377057"></a><a name="p34377057"></a>配置项编号</p>
</td>
</tr>
<tr id="row40958057"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p29268282"><a name="p29268282"></a><a name="p29268282"></a>config_value</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p21920636"><a name="p21920636"></a><a name="p21920636"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p30741078"><a name="p30741078"></a><a name="p30741078"></a>配置值</p>
</td>
</tr>
<tr id="row8234252"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p62994686"><a name="p62994686"></a><a name="p62994686"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p2295965"><a name="p2295965"></a><a name="p2295965"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p51755472"><a name="p51755472"></a><a name="p51755472"></a>生效的租户编号</p>
</td>
</tr>
</tbody>
</table>

请求消息样例：

```
{
  "config_id": "1",
  "config_value": "300",
  "project_id": "xxxxxxxxxxxxx"
}
```

## 响应消息<a name="section15783261"></a>

**表 4**  参数说明

<a name="table16255646"></a>
<table><thead align="left"><tr id="row1446699"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p50073814"><a name="p50073814"></a><a name="p50073814"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p29447146"><a name="p29447146"></a><a name="p29447146"></a>类型</p>
</th>
<th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p36408589"><a name="p36408589"></a><a name="p36408589"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row63414634"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p36311719"><a name="p36311719"></a><a name="p36311719"></a>id</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p55568108"><a name="p55568108"></a><a name="p55568108"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p4722914"><a name="p4722914"></a><a name="p4722914"></a>特殊配置编号</p>
</td>
</tr>
<tr id="row20452664"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p46053119"><a name="p46053119"></a><a name="p46053119"></a>config_value</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p39315121"><a name="p39315121"></a><a name="p39315121"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p30408248"><a name="p30408248"></a><a name="p30408248"></a>配置值</p>
</td>
</tr>
<tr id="row21688288"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p11920905"><a name="p11920905"></a><a name="p11920905"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p26069283"><a name="p26069283"></a><a name="p26069283"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p31237206"><a name="p31237206"></a><a name="p31237206"></a>生效的特殊租户的编号</p>
</td>
</tr>
<tr id="row22018450"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p38664008"><a name="p38664008"></a><a name="p38664008"></a>update_time</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p44776980"><a name="p44776980"></a><a name="p44776980"></a>Date</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p3056731"><a name="p3056731"></a><a name="p3056731"></a>更新时间</p>
</td>
</tr>
<tr id="row13764935"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p41217925"><a name="p41217925"></a><a name="p41217925"></a>config_info</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p50317595"><a name="p50317595"></a><a name="p50317595"></a>字典数据类型</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p49193394"><a name="p49193394"></a><a name="p49193394"></a>系统配置信息</p>
</td>
</tr>
</tbody>
</table>

**表 5**  config\_info参数说明

<a name="table25851136"></a>
<table><thead align="left"><tr id="row53878948"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p2118662"><a name="p2118662"></a><a name="p2118662"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p37393920"><a name="p37393920"></a><a name="p37393920"></a>类型</p>
</th>
<th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p9008699"><a name="p9008699"></a><a name="p9008699"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row58616031"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p50278034"><a name="p50278034"></a><a name="p50278034"></a>config_id</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p45988991"><a name="p45988991"></a><a name="p45988991"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p34120780"><a name="p34120780"></a><a name="p34120780"></a>配置项的编号</p>
</td>
</tr>
<tr id="row38651566"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p43769135"><a name="p43769135"></a><a name="p43769135"></a>module_name</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p55639012"><a name="p55639012"></a><a name="p55639012"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p10466101"><a name="p10466101"></a><a name="p10466101"></a>配置项所述的模块名</p>
</td>
</tr>
<tr id="row27086052"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p46486636"><a name="p46486636"></a><a name="p46486636"></a>config_name</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p7321156"><a name="p7321156"></a><a name="p7321156"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p56142740"><a name="p56142740"></a><a name="p56142740"></a>配置项的名称</p>
</td>
</tr>
<tr id="row35522617"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p58759729"><a name="p58759729"></a><a name="p58759729"></a>config_value</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p61917622"><a name="p61917622"></a><a name="p61917622"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p49271471"><a name="p49271471"></a><a name="p49271471"></a>配置值</p>
</td>
</tr>
<tr id="row40790059"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p15660462"><a name="p15660462"></a><a name="p15660462"></a>can_special</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p60537881"><a name="p60537881"></a><a name="p60537881"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p4621333"><a name="p4621333"></a><a name="p4621333"></a>是否支持特殊配置</p>
<a name="ul41592001"></a><a name="ul41592001"></a><ul id="ul41592001"><li>1:  支持特殊配置</li><li>2：不支持特殊配置</li></ul>
</td>
</tr>
<tr id="row54471134"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p50085756"><a name="p50085756"></a><a name="p50085756"></a>remark</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p30414410"><a name="p30414410"></a><a name="p30414410"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p47648112"><a name="p47648112"></a><a name="p47648112"></a>对配置项的描述</p>
</td>
</tr>
<tr id="row26179828"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p40191314"><a name="p40191314"></a><a name="p40191314"></a>update_time</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p34271005"><a name="p34271005"></a><a name="p34271005"></a>Timestamp</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p24487996"><a name="p24487996"></a><a name="p24487996"></a>更新时间</p>
</td>
</tr>
<tr id="row19065375"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p791512"><a name="p791512"></a><a name="p791512"></a>match_regexp</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p64112473"><a name="p64112473"></a><a name="p64112473"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p25727819"><a name="p25727819"></a><a name="p25727819"></a>配置值需要满足的规则</p>
</td>
</tr>
<tr id="row30223781"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p32207235"><a name="p32207235"></a><a name="p32207235"></a>encrypt_flag</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p58649253"><a name="p58649253"></a><a name="p58649253"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p52969076"><a name="p52969076"></a><a name="p52969076"></a>config_value字段是否加密</p>
<a name="ul6959639"></a><a name="ul6959639"></a><ul id="ul6959639"><li>1：加密</li><li>2：不加密</li></ul>
</td>
</tr>
</tbody>
</table>

响应消息样例：

```
{
	"id": "9a8b4ee0-c4fb-4b63-8675-f6b335b5e9a9",
	"config_info": {
		"config_id": "1",
		"module_name": "APIMANAGER",
		"config_name": "API_NUM_LIMIT",
		"config_value": "100",
		"can_special": 1,
		"remark": "租户可以创建的API个数限制",
		"update_time": "2017-12-29T03:39:03.165657Z",
		"match_regexp": "^([1-9]\\d{0,4})$",
		"encrypt_flag": 2
	},
	"config_value": "300",
	"project_id": "xxxxxxxxxxxxxxxx",
	"update_time": "2017-12-29T08:11:02.9683605Z"
}
```

## 状态码<a name="section61406019"></a>

**表 6**  返回消息说明

<a name="table35202570"></a>
<table><thead align="left"><tr id="row46615426"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.3.1.1"><p id="p17753146"><a name="p17753146"></a><a name="p17753146"></a>状态码</p>
</th>
<th class="cellrowborder" valign="top" width="80%" id="mcps1.2.3.1.2"><p id="p28718698"><a name="p28718698"></a><a name="p28718698"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row44513211"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.3.1.1 "><p id="p48800340"><a name="p48800340"></a><a name="p48800340"></a>201</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.2.3.1.2 "><p id="p60513502"><a name="p60513502"></a><a name="p60513502"></a>Created</p>
</td>
</tr>
<tr id="row7750613"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.3.1.1 "><p id="p23819915"><a name="p23819915"></a><a name="p23819915"></a>400</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.2.3.1.2 "><p id="p50364933"><a name="p50364933"></a><a name="p50364933"></a>Bad Request</p>
</td>
</tr>
<tr id="row50631215"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.3.1.1 "><p id="p7487755"><a name="p7487755"></a><a name="p7487755"></a>401</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.2.3.1.2 "><p id="p2528415"><a name="p2528415"></a><a name="p2528415"></a>Unauthorized</p>
</td>
</tr>
<tr id="row22755742"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.3.1.1 "><p id="p31275834"><a name="p31275834"></a><a name="p31275834"></a>403</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.2.3.1.2 "><p id="p50314659"><a name="p50314659"></a><a name="p50314659"></a>Forbidden</p>
</td>
</tr>
<tr id="row50178752"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.3.1.1 "><p id="p37947078"><a name="p37947078"></a><a name="p37947078"></a>404</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.2.3.1.2 "><p id="p15296380"><a name="p15296380"></a><a name="p15296380"></a>Not Found</p>
</td>
</tr>
<tr id="row14568248"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.3.1.1 "><p id="p39177443"><a name="p39177443"></a><a name="p39177443"></a>500</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.2.3.1.2 "><p id="p19256290"><a name="p19256290"></a><a name="p19256290"></a>Server Internal Error</p>
</td>
</tr>
</tbody>
</table>

